<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Magical Mystery Theater</title>
    </head>
    <body>
        <h1>Magical Mystery Theater</h1>
        <button type="button" onclick="buyTicket()">Purchase Ticket</button>
        <script>
            //Instructions
            //Goal: Figure out the cost of a ticket to the Magical Mystery Theater, and show it to the user
            //The cost can change, depending on the age of the user
            //When the user clicks the purchase button, aprompt with launch asking their age
            //Then use that age to determine the ticket cost
            //Cost breakdown: If the user is over 12 and under 65, $20.
            //If the user is under 12, or 65 and over, $10
            //Use an alert to display the ticket cost to the user
            
            /* //Initial program
            //These are global constants, because they are not inside a function. use sparingly
            const GENERAL_ADMISSION_TICKET_COST = 20;
            const CHILD_AND_SENIOR_TICKET_COST = 10;

            function buyTicket() {
                const age = prompt('What is your age?');
                let cost = GENERAL_ADMISSION_TICKET_COST;

                if ((age <= 12) || (age >= 65)) {
                    cost = CHILD_AND_SENIOR_TICKET_COST
                }
                alert('Your ticket price will be $' + cost);
            }
            */

            /* //Updated program 
            //Move the ticket price based on age to its own function to keep it separate
            
            //These are global constants, because they are not inside a function. use sparingly
            const GENERAL_ADMISSION_TICKET_COST = 20;
            const CHILD_AND_SENIOR_TICKET_COST = 10;

            function buyTicket() {
                const age = prompt('What is your age?');
                let cost = getBaseTicketCost(age);

                alert('Your ticket price will be $' + cost);
            }

            function getBaseTicketCost(age) {
                if ((age <= 12) || (age >= 65)) {
                    //If condition met, function will return discounted cost
                    return CHILD_AND_SENIOR_TICKET_COST;
                }
                return GENERAL_ADMISSION_TICKET_COST;
            }
            */
           
            /* //Updated program: Matinee Discount
            //Add a matinee discount to the program
            
            //These are global constants, because they are not inside a function. use sparingly
            const GENERAL_ADMISSION_TICKET_COST = 20;
            const CHILD_AND_SENIOR_TICKET_COST = 10;
            const MATINEE_DISCOUNT = 3;

            function buyTicket() {
                const age = prompt('What is your age?');
                let cost = getBaseTicketCost(age);
                
                const isMatinee = prompt('Are you attending a matinee show?');
                if ((isMatinee === 'yes') || (isMatinee === 'y')) {
                    cost = cost - MATINEE_DISCOUNT;
                }

                alert('Your ticket price will be $' + cost);
            }

            function getBaseTicketCost(age) {
                if ((age <= 12) || (age >= 65)) {
                    //If condition met, function will return discounted cost
                    return CHILD_AND_SENIOR_TICKET_COST;
                }
                return GENERAL_ADMISSION_TICKET_COST;
            }
            */
            
            /* //Updated program: Matinee Discount Function | MY Solution
            //Add a matinee discount code moved to its own function
            
            //These are global constants, because they are not inside a function. use sparingly
            const GENERAL_ADMISSION_TICKET_COST = 20;
            const CHILD_AND_SENIOR_TICKET_COST = 10;
            const MATINEE_DISCOUNT = 3;

            function buyTicket() {
                const age = prompt('What is your age?');
                const isMatinee = prompt('Are you attending a matinee show?');
                
                let cost = getBaseTicketCost(age);
                if (checkMatinee(isMatinee)) {
                    cost -=MATINEE_DISCOUNT;
                }

                alert('Your ticket price will be $' + cost);
            }

            function getBaseTicketCost(age) {
                if ((age <= 12) || (age >= 65)) {
                    //If condition met, function will return discounted cost
                    return CHILD_AND_SENIOR_TICKET_COST;
                }
                return GENERAL_ADMISSION_TICKET_COST;
            }

            function checkMatinee(isMatinee) {
                // Returns true if attending a matinee show, otherwise false
                return ((isMatinee === 'yes') || (isMatinee === 'y'));
            }
            */

            //Updated program: Matinee Discount Function | CLASS Solution
            //Add a matinee discount to the program
            
            //These are global constants, because they are not inside a function. use sparingly
            const GENERAL_ADMISSION_TICKET_COST = 20;
            const CHILD_AND_SENIOR_TICKET_COST = 10;
            const MATINEE_DISCOUNT = 3;

            function buyTicket() {
                const age = prompt('What is your age?');
                let cost = getBaseTicketCost(age);
                const isMatinee = prompt('Are you attending a matinee show?');
                
                //This calls the function that decides whether to apply a matinee discount
                cost = applyMatineeDiscount(cost, isMatinee);

                alert('Your ticket price will be $' + cost);
            }

            function getBaseTicketCost(age) {
                if ((age <= 12) || (age >= 65)) {
                    //If condition met, function will return discounted cost
                    return CHILD_AND_SENIOR_TICKET_COST;
                }
                return GENERAL_ADMISSION_TICKET_COST;
            }

            function applyMatineeDiscount(cost, isMatinee) {
                
                if ((isMatinee === 'yes') || (isMatinee === 'y')) {
                    return cost - MATINEE_DISCOUNT;
                }
                return cost;
            }
            
        </script>
    </body>
</html>